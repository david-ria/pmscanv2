import{r as a}from"./vendor-CRCfYjC_.js";import{u as l}from"./useSubscription-DJEgHQrc.js";const c="weather_logging_enabled";function E(){const{features:t}=l(),[s,r]=a.useState(()=>{const e=localStorage.getItem(c);return e?JSON.parse(e):!1}),o=a.useCallback(e=>{e&&!t.canUseWeatherData||(r(e),localStorage.setItem(c,JSON.stringify(e)))},[t.canUseWeatherData]);return{isEnabled:s&&t.canUseWeatherData,setEnabled:o}}const i="locationEnrichmentSettings";function f(){const{features:t}=l(),[s,r]=a.useState({enabled:!0});a.useEffect(()=>{const e=localStorage.getItem(i);if(e)try{const n=JSON.parse(e);r(n)}catch(n){console.error("Failed to parse location enrichment settings:",n)}},[]),a.useEffect(()=>{localStorage.setItem(i,JSON.stringify(s))},[s]);const o=e=>{e&&!t.canUseLocationEnrichment||r(n=>({...n,enabled:e}))};return{isEnabled:s.enabled&&t.canUseLocationEnrichment,toggleEnabled:o}}export{f as a,E as u};
