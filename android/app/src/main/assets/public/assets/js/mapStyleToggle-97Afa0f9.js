import{M as i,c as d}from"./mapStyles-CsZyDteM.js";import{r as s}from"./mapEventHandlers-CHIiS9qu.js";const u=(e,o,r,a,c)=>{const l=o?i.LIGHT:i.SATELLITE;e.setStyle(l),c(!o),e.once("styledata",()=>{e.addSource("track-line",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:r.length>1?r.map(t=>[t.longitude,t.latitude]):[]}}}),e.addSource("track-points",{type:"geojson",data:{type:"FeatureCollection",features:r.map((t,n)=>({type:"Feature",id:n,geometry:{type:"Point",coordinates:[t.longitude,t.latitude]},properties:{pm25:t.pm25,timestamp:t.timestamp.toISOString()}}))}}),e.addLayer({id:"track-line",type:"line",source:"track-line",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3b82f6","line-width":3,"line-opacity":.8}}),e.addLayer({id:"track-points",type:"circle",source:"track-points",paint:{"circle-radius":["case",["boolean",["feature-state","hovered"],!1],8,6],"circle-color":d(a),"circle-stroke-width":2,"circle-stroke-color":"#ffffff","circle-opacity":.8}}),s(e)})};export{u as toggleMapStyle};
