import{j as u}from"./query-BewfWFH7.js";import{r as e}from"./vendor-CRCfYjC_.js";const d={pm1:{good:10,moderate:25,poor:50},pm25:{good:12,moderate:35,poor:55},pm10:{good:20,moderate:50,poor:100}},n=e.createContext(void 0);function f({children:s}){const[r,l]=e.useState(d);e.useEffect(()=>{const o=localStorage.getItem("airQualityThresholds");if(o)try{const t=JSON.parse(o);l(t)}catch(t){console.error("Failed to parse saved thresholds:",t)}},[]),e.useEffect(()=>{localStorage.setItem("airQualityThresholds",JSON.stringify(r))},[r]);const i=e.useCallback(o=>{l(o)},[]),c=e.useCallback(()=>{l(d)},[]),h=e.useCallback((o,t)=>{const a=r[t];return o<=a.good?{level:"good",color:"air-good"}:o<=a.moderate?{level:"moderate",color:"air-moderate"}:o<=a.poor?{level:"poor",color:"air-poor"}:{level:"very-poor",color:"air-very-poor"}},[r]);return u.jsx(n.Provider,{value:{thresholds:r,updateThresholds:i,resetToWHOStandards:c,getAirQualityLevel:h},children:s})}function v(){const s=e.useContext(n);if(s===void 0)throw new Error("useThresholds must be used within a ThresholdProvider");return s}export{f as ThresholdProvider,v as useThresholds};
