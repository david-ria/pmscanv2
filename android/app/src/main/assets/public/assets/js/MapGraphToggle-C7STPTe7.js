import{j as t}from"./query-BewfWFH7.js";import{B as a}from"./index-DnKT6hDb.js";import{M as x}from"./MapboxMapCore-DwX_lmbs.js";import{PMLineGraph as f}from"./PMLineGraph-DB5Ox9c8.js";import{u as h}from"./i18n-DZz6YkIP.js";import{M as l}from"./eventTypes-ynSrOkd7.js";import{T as j}from"./RealTime-CuVN0XnM.js";import{W as g}from"./wifi-off-flOeYF_3.js";import"./vendor-CRCfYjC_.js";import"./supabase--OITQzG1.js";import"./router-D6wdMmGF.js";import"./theme-D-6-9UvQ.js";import"./ui-core-CibF-ClQ.js";import"./utils-EL5wpLGY.js";import"./notifications-6vUXhpBr.js";import"./card-CRF2Wp6a.js";import"./badge-D3qJDj1M.js";import"./ThresholdContext-1SyiABzf.js";import"./loader-circle-CMvZ_kLu.js";import"./timeFormat-CCn9v1Tp.js";import"./charts-Do_EPC5m.js";import"./skeleton-D29iA6Gg.js";import"./UnifiedDataProvider-D_wn4Ile.js";import"./useMissionSaver-CXd3xg0u.js";import"./client-zGYq1VIw.js";import"./supabaseSafeWrapper-C24d6oy5.js";import"./AlertContext-CLzf7XqW.js";import"./useGroupSettings-DQBWUHal.js";import"./groupConfigs-C_MEEc6R.js";import"./useSubscription-DJEgHQrc.js";import"./useGroups-DlFUXECJ.js";import"./useUserRole-B8Vd-TTd.js";import"./ui-forms-BvHfx7SG.js";import"./useAutoContext-RU6mHgIo.js";import"./bluetooth-BEoGU70i.js";import"./useWeatherData-Bov5wL1Q.js";import"./useEvents-B2RSjdE6.js";import"./select-BZrd-goH.js";import"./check-BbmLrf-d.js";import"./dialog-DfKWiEIF.js";import"./label-Dli8bNIx.js";import"./clock-ipAbZE7G.js";import"./input-CGNY8--s.js";import"./switch-DiHL1fOt.js";import"./save-DuXH8Fwl.js";import"./trash-2-fnkO6k_f.js";import"./bluetooth-CRv2GwO8.js";import"./satellite-BoAS3NdR.js";import"./useDialog-D4PBCj81.js";function bt({showGraph:i,onToggleView:o,isOnline:p,latestLocation:n,currentData:c,recordingData:m,events:d=[],isRecording:s,device:N,isConnected:b,onConnect:v,onDisconnect:T,onRequestLocationPermission:M,locationEnabled:C}){const{t:r}=h(),u=m.map(e=>({longitude:e.location?.longitude||0,latitude:e.location?.latitude||0,pm25:e.pmData.pm25,timestamp:e.pmData.timestamp})).filter(e=>e.longitude!==0&&e.latitude!==0);return t.jsxs("div",{className:"mb-4",children:[t.jsx("div",{className:"flex items-center justify-center mb-3",children:t.jsxs("div",{className:"flex bg-muted p-1 rounded-lg",children:[t.jsxs(a,{variant:i?"ghost":"default",size:"sm",onClick:()=>o(!1),className:"flex items-center gap-2",children:[t.jsx(l,{className:"h-4 w-4"}),r("realTime.map")]}),t.jsxs(a,{variant:i?"default":"ghost",size:"sm",onClick:()=>o(!0),className:"flex items-center gap-2",children:[t.jsx(j,{className:"h-4 w-4"}),r("realTime.graph")]})]})}),t.jsx("div",{className:"h-[45vh] relative",children:i?t.jsx(f,{data:m,events:d,className:"h-full",highlightContextType:"location"}):t.jsx(t.Fragment,{children:p?s?t.jsx(x,{currentLocation:n,pmData:c,trackPoints:u,isRecording:s,className:"h-full w-full",autoLoadOnRecording:!0}):t.jsx("div",{className:"h-full flex items-center justify-center bg-muted/20 border border-border rounded-lg",children:t.jsxs("div",{className:"text-center",children:[t.jsx(l,{className:"h-12 w-12 mx-auto mb-3 text-muted-foreground/50"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:r("realTime.mapWillLoadWhenRecording")})]})}):t.jsx("div",{className:"h-full bg-card border border-border rounded-lg flex items-center justify-center",children:t.jsxs("div",{className:"text-muted-foreground text-center",children:[t.jsx(g,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:r("realTime.connectionRequired")})]})})})})]})}export{bt as MapGraphToggle};
