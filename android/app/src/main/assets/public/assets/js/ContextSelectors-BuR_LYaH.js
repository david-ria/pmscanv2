import{j as e}from"./query-BewfWFH7.js";import{M as T,B as c}from"./badge-D3qJDj1M.js";import{S as x,a as u,b as d,c as f,d as h}from"./select-BZrd-goH.js";import{u as k,D as j,a as A,g as S}from"./useGroupSettings-DQBWUHal.js";import{r as C}from"./vendor-CRCfYjC_.js";import{u as E}from"./i18n-DZz6YkIP.js";import{A as I}from"./activity-B8rwkEHL.js";import"./index-DnKT6hDb.js";import"./supabase--OITQzG1.js";import"./router-D6wdMmGF.js";import"./theme-D-6-9UvQ.js";import"./ui-core-CibF-ClQ.js";import"./utils-EL5wpLGY.js";import"./notifications-6vUXhpBr.js";import"./check-BbmLrf-d.js";import"./groupConfigs-C_MEEc6R.js";import"./useSubscription-DJEgHQrc.js";import"./client-zGYq1VIw.js";import"./useGroups-DlFUXECJ.js";import"./useUserRole-B8Vd-TTd.js";import"./ui-forms-BvHfx7SG.js";import"./supabaseSafeWrapper-C24d6oy5.js";function Y({selectedLocation:r,onLocationChange:g,selectedActivity:i,onActivityChange:o,isRecording:l}){const{t:m}=E(),{getCurrentLocations:v,getCurrentActivities:b,isGroupMode:n}=k(),N=n?v():j.map(a=>({name:a.name,key:a.id})),t=(()=>{if(n)return b();if(!r)return A.map(s=>({key:s.id,name:s.name}));const a=j.find(s=>s.id===r||s.name===r);return a?S(a.id).map(s=>({key:s.id,name:s.name})):[]})();return C.useEffect(()=>{if(!n&&r&&i){const a=t.map(s=>s.name),p=t.map(s=>s.key||s.name);!a.includes(i)&&!p.includes(i)&&(console.log(`ðŸ”„ Activity "${i}" not available for location "${r}". Available activities:`,a),o(""))}},[r,t,i,o,n]),e.jsxs("div",{className:"context-selector gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx("span",{children:m("realTime.location")}),l&&r&&e.jsx(c,{variant:"outline",className:"text-xs",children:r})]}),e.jsxs(x,{value:r,onValueChange:g,children:[e.jsx(u,{className:"h-11 bg-background",children:e.jsx(d,{placeholder:m("realTime.noLocation")})}),e.jsx(f,{children:N.map(a=>e.jsx(h,{value:a.key||a.name,children:a.name},a.key||a.name))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx("span",{children:m("realTime.activity")}),l&&i&&e.jsx(c,{variant:"outline",className:"text-xs",children:i})]}),e.jsxs(x,{value:i,onValueChange:o,disabled:!1,children:[e.jsx(u,{className:"h-11 bg-background",children:e.jsx(d,{placeholder:m("realTime.noActivity")})}),e.jsx(f,{children:t.map(a=>e.jsx(h,{value:a.key||a.name,children:a.name},a.key||a.name))})]})]})]})}export{Y as ContextSelectors};
